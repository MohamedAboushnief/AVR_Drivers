 /**********************************************************************************************************************
 *  File		: Ssd.c
 *	Module		: Seven segments display
 *	Target		: General
 *	Author		: mAboushenif
 *  Description	: contains functions to interface with seven segments display     
 * 
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include "Ssd.h"

/**********************************************************************************************************************
*  LOCAL MACROS CONSTANT\FUNCTION
*********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL DATA 
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/


/******************************************************************************
* \Syntax          : void SSD_Init(void);
* \Description     : Configure SSD as output                               
*                                                                             
* \Sync\Async      : Synchronous                                               
* \Reentrancy      : Non Reentrant                                             
* \Parameters (in) : None                                                                    
* \Return value:   : Void
*                                                                  
*******************************************************************************/
void SSD_Init(void){
	Dio_CONFIGChannelGroup(SSD_DATA_PORT,SSD_MASK,OUTPUT);
	Dio_ConfigChannel(SSD_DIG1_EN_PORT,SSD_DIG1_EN_CHANNEL,OUTPUT);
	Dio_ConfigChannel(SSD_DIG2_EN_PORT,SSD_DIG2_EN_CHANNEL,OUTPUT);
}


/******************************************************************************
* \Syntax          : void SSD_Display(u8 number);
* \Description     : Write SSD 
*
* \Sync\Async      : Synchronous
* \Reentrancy      : Non Reentrant
* \Parameters (in) : number
* \Return value:   : Void
*
*******************************************************************************/
void SSD_Display(u8 number){
	Dio_WRITEChannel(SSD_DIG1_EN_PORT,SSD_DIG1_EN_CHANNEL,STD_HIGH);
	Dio_WRITEChannel(SSD_DIG2_EN_PORT,SSD_DIG2_EN_CHANNEL,STD_LOW);
	Dio_WRITEChannelGroup(SSD_DATA_PORT,SSD_MASK,SSD_DATA_GRP_POS,number%10);
	_delay_ms(1);
	Dio_WRITEChannel(SSD_DIG1_EN_PORT,SSD_DIG1_EN_CHANNEL,STD_LOW);
	Dio_WRITEChannel(SSD_DIG2_EN_PORT,SSD_DIG2_EN_CHANNEL,STD_HIGH);
	Dio_WRITEChannelGroup(SSD_DATA_PORT,SSD_MASK,SSD_DATA_GRP_POS,number/10);
	_delay_ms(1);
}


/**********************************************************************************************************************
 *  END OF FILE: Ssd.c
 *********************************************************************************************************************/
